name: Calcular Edad

on:
  workflow_dispatch:
    inputs:
      year:
        description: 'Año de nacimiento'
        required: true
      month:
        description: 'Mes de nacimiento (01-12)'
        required: true
      day:
        description: 'Día de nacimiento (01-31)'
        required: true

jobs:
  calcular-edad:
    runs-on: ubuntu-latest
    steps:
      - name: Calcular edad actual
        run: |
          echo "Fecha de nacimiento ingresada: ${{ inputs.year }}-${{ inputs.month }}-${{ inputs.day }}"

          # Convertir la fecha de nacimiento a formato Unix
          birth_date="${{ inputs.year }}-${{ inputs.month }}-${{ inputs.day }}"
          birth_sec=$(date -d "$birth_date" +%s)

          # Obtener la fecha actual en segundos desde epoch
          current_sec=$(date +%s)

          # Calcular la edad en años
          age=$(( (current_sec - birth_sec) / (365*24*60*60) ))

          echo "La persona tiene aproximadamente $age años."
